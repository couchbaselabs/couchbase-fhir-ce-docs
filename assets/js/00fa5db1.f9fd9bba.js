"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[952],{6847:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Overview/FHIR Resources","title":"FHIR Resources on Couchbase","description":"FHIR defines 146+ resource types in the R4 specification \u2014 each representing a different healthcare concept such as Patient, Observation, Encounter, or Condition.","source":"@site/docs/Overview/FHIR Resources.md","sourceDirName":"Overview","slug":"/Overview/FHIR Resources","permalink":"/couchbase-fhir-ce-docs/docs/Overview/FHIR Resources","draft":false,"unlisted":false,"editUrl":"https://github.com/couchbaselabs/couchbase-fhir-ce-docs/tree/master/docs/Overview/FHIR Resources.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"FHIR Resources on Couchbase","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"System Architecture","permalink":"/couchbase-fhir-ce-docs/docs/Overview/Architecture"},"next":{"title":"Indexing Strategy","permalink":"/couchbase-fhir-ce-docs/docs/Overview/FTS Index"}}');var i=n(4848),c=n(8453);const t={title:"FHIR Resources on Couchbase",sidebar_position:3},o="FHIR Resources on Couchbase",l={},d=[{value:"Multi-Collection Strategy",id:"multi-collection-strategy",level:2},{value:"Rationale",id:"rationale",level:2},{value:"Resource Lifecycle",id:"resource-lifecycle",level:2},{value:"Active Resources",id:"active-resources",level:3},{value:"Historical Versions",id:"historical-versions",level:3},{value:"Soft Deletes",id:"soft-deletes",level:3},{value:"Example: Patient Record",id:"example-patient-record",level:2},{value:"Feature / Benefit",id:"feature--benefit",level:3},{value:"Under the Hood",id:"under-the-hood",level:2},{value:"Summary",id:"summary",level:2}];function a(e){const s={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"fhir-resources-on-couchbase",children:"FHIR Resources on Couchbase"})}),"\n",(0,i.jsxs)(s.p,{children:["FHIR defines ",(0,i.jsx)(s.strong,{children:"146+ resource types"})," in the R4 specification \u2014 each representing a different healthcare concept such as ",(0,i.jsx)(s.code,{children:"Patient"}),", ",(0,i.jsx)(s.code,{children:"Observation"}),", ",(0,i.jsx)(s.code,{children:"Encounter"}),", or ",(0,i.jsx)(s.code,{children:"Condition"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Couchbase FHIR CE organizes these resources into ",(0,i.jsx)(s.strong,{children:"dedicated collections"})," within each ",(0,i.jsx)(s.strong,{children:"tenant bucket"}),", leveraging Couchbase\u2019s ",(0,i.jsx)(s.strong,{children:"bucket / scope / collection"})," model for scalability, clarity, and high performance."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"multi-collection-strategy",children:"Multi-Collection Strategy"}),"\n",(0,i.jsxs)(s.p,{children:["Each tenant is assigned its own ",(0,i.jsx)(s.strong,{children:"Couchbase bucket"}),(0,i.jsx)(s.br,{}),"\n","(e.g. ",(0,i.jsx)(s.code,{children:"acme"}),", ",(0,i.jsx)(s.code,{children:"bluehealth"}),", ",(0,i.jsx)(s.code,{children:"hospital-x"}),")."]}),"\n",(0,i.jsxs)(s.p,{children:["Within that bucket, Couchbase FHIR CE uses a ",(0,i.jsx)(s.strong,{children:"Resources scope"})," containing multiple collections:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"{tenant-bucket}\n\u2514\u2500\u2500 Resources\n\u251c\u2500\u2500 Patient\n\u251c\u2500\u2500 Observation\n\u251c\u2500\u2500 Encounter\n\u251c\u2500\u2500 Condition\n\u251c\u2500\u2500 Procedure\n\u251c\u2500\u2500 MedicationRequest\n\u251c\u2500\u2500 DiagnosticReport\n\u251c\u2500\u2500 DocumentReference\n\u251c\u2500\u2500 Immunization\n\u251c\u2500\u2500 ServiceRequest\n\u251c\u2500\u2500 General\n\u251c\u2500\u2500 Versions\n\u2514\u2500\u2500 Tombstones\n"})}),"\n",(0,i.jsx)(s.h2,{id:"rationale",children:"Rationale"}),"\n",(0,i.jsxs)(s.p,{children:["Not all FHIR resources are equal \u2014 some are ",(0,i.jsx)(s.strong,{children:"high-traffic"})," (frequently queried, updated, or referenced), while others are ",(0,i.jsx)(s.strong,{children:"low-traffic"})," or supporting."]}),"\n",(0,i.jsxs)(s.p,{children:["To balance ",(0,i.jsx)(s.strong,{children:"query performance"})," and ",(0,i.jsx)(s.strong,{children:"index size"}),", we use a ",(0,i.jsx)(s.strong,{children:"hybrid strategy"}),":"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Category"}),(0,i.jsx)(s.th,{children:"Resource Types"}),(0,i.jsx)(s.th,{children:"Storage"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"High-volume"})}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.code,{children:"Patient"}),", ",(0,i.jsx)(s.code,{children:"Observation"}),", ",(0,i.jsx)(s.code,{children:"Encounter"}),", ",(0,i.jsx)(s.code,{children:"Condition"}),", ",(0,i.jsx)(s.code,{children:"Procedure"}),", ",(0,i.jsx)(s.code,{children:"MedicationRequest"}),", ",(0,i.jsx)(s.code,{children:"DiagnosticReport"}),", ",(0,i.jsx)(s.code,{children:"DocumentReference"}),", ",(0,i.jsx)(s.code,{children:"Immunization"}),", ",(0,i.jsx)(s.code,{children:"ServiceRequest"})]}),(0,i.jsxs)(s.td,{children:["Each has a ",(0,i.jsx)(s.strong,{children:"dedicated collection"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Low-volume"})}),(0,i.jsx)(s.td,{children:"All other FHIR resource types"}),(0,i.jsxs)(s.td,{children:["Stored in a shared ",(0,i.jsx)(s.strong,{children:"General"})," collection"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"System"})}),(0,i.jsx)(s.td,{children:"Version history, soft deletes"}),(0,i.jsxs)(s.td,{children:["Stored in ",(0,i.jsx)(s.strong,{children:"Versions"})," and ",(0,i.jsx)(s.strong,{children:"Tombstones"})," collections"]})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"This approach ensures:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\ud83d\udd39 ",(0,i.jsx)(s.strong,{children:"Smaller indexes"})," per collection"]}),"\n",(0,i.jsxs)(s.li,{children:["\ud83d\udd39 ",(0,i.jsx)(s.strong,{children:"Faster queries"})," for common resource types"]}),"\n",(0,i.jsxs)(s.li,{children:["\ud83d\udd39 ",(0,i.jsx)(s.strong,{children:"Simplified scaling"})," (move heavy collections to separate nodes)"]}),"\n",(0,i.jsxs)(s.li,{children:["\ud83d\udd39 ",(0,i.jsx)(s.strong,{children:"Clear separation"})," between active, historical, and deleted data"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"resource-lifecycle",children:"Resource Lifecycle"}),"\n",(0,i.jsx)(s.h3,{id:"active-resources",children:"Active Resources"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Stored as native JSON in their respective collection (e.g. ",(0,i.jsx)(s.code,{children:"Resources.Patient"}),")"]}),"\n",(0,i.jsxs)(s.li,{children:["Include ",(0,i.jsx)(s.code,{children:"meta"})," block with ",(0,i.jsx)(s.code,{children:"versionId"}),", ",(0,i.jsx)(s.code,{children:"lastUpdated"}),", and audit tags"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"historical-versions",children:"Historical Versions"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["When a resource is updated, the ",(0,i.jsx)(s.strong,{children:"previous version"})," is copied into the ",(0,i.jsx)(s.code,{children:"Resources.Versions"})," collection"]}),"\n",(0,i.jsxs)(s.li,{children:["Enables FHIR ",(0,i.jsx)(s.code,{children:"_history"})," and ",(0,i.jsx)(s.code,{children:"vread"})," endpoints"]}),"\n",(0,i.jsx)(s.li,{children:"Preserves full JSON and metadata for auditability"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"soft-deletes",children:"Soft Deletes"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["FHIR mandates ",(0,i.jsx)(s.strong,{children:"soft deletion"})," \u2014 deleted resources must still be retrievable via ",(0,i.jsx)(s.code,{children:"_history"})]}),"\n",(0,i.jsxs)(s.li,{children:["Deleted items are moved to the ",(0,i.jsx)(s.code,{children:"Resources.Tombstones"})," collection"]}),"\n",(0,i.jsx)(s.li,{children:"Retain metadata (ID, version, timestamp) for compliance and traceability"}),"\n"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"No hard deletes \u2014 data integrity is preserved across all operations."}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"example-patient-record",children:"Example: Patient Record"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "resourceType": "Patient",\n  "id": "12345",\n  "meta": {\n    "versionId": "3",\n    "lastUpdated": "2025-10-06T12:00:00Z",\n    "tag": [\n      {\n        "system": "http://couchbase.com/fhir/meta",\n        "code": "active",\n        "display": "Active Record"\n      }\n    ]\n  },\n  "name": [{ "family": "Smith", "given": ["John"] }],\n  "gender": "male",\n  "birthDate": "1980-02-14"\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"feature--benefit",children:"Feature / Benefit"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Feature"}),(0,i.jsx)(s.th,{children:"Benefit"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Logical organization"}),(0,i.jsx)(s.td,{children:"Each resource type is easy to locate and query"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Performance"}),(0,i.jsx)(s.td,{children:"Smaller FTS indexes \u2192 faster searches"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Scalability"}),(0,i.jsx)(s.td,{children:"Distribute heavy collections across nodes"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Maintainability"}),(0,i.jsx)(s.td,{children:"Lifecycle policies per collection"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Compliance"}),(0,i.jsxs)(s.td,{children:["Full support for ",(0,i.jsx)(s.code,{children:"_history"})," and soft deletes"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Flexibility"}),(0,i.jsx)(s.td,{children:"Add/adjust collections as usage evolves"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"under-the-hood",children:"Under the Hood"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Each collection has a dedicated ",(0,i.jsx)(s.strong,{children:"FTS index"})," tuned to its resource type (for example, ",(0,i.jsx)(s.code,{children:"ftsPatient"}),", ",(0,i.jsx)(s.code,{children:"ftsObservation"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:["The ",(0,i.jsx)(s.strong,{children:"General"})," collection uses a generic index with a ",(0,i.jsx)(s.code,{children:"resourceType"})," filter to support diverse, low\u2011volume resources."]}),"\n",(0,i.jsxs)(s.li,{children:["Search requests automatically ",(0,i.jsx)(s.strong,{children:"route to the correct collection and index"})," based on ",(0,i.jsx)(s.code,{children:"resourceType"})," and search parameters."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Audit metadata"})," (FHIR ",(0,i.jsx)(s.code,{children:"meta"})," + implementation tags) is embedded in every document for traceability and governance."]}),"\n",(0,i.jsxs)(s.li,{children:["Updates write current resources to their collection and archive prior versions to ",(0,i.jsx)(s.strong,{children:"Versions"}),"; deletions create ",(0,i.jsx)(s.strong,{children:"Tombstones"})," for ",(0,i.jsx)(s.code,{children:"_history"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(s.p,{children:"Couchbase FHIR CE\u2019s collection\u2011based resource model:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Mirrors real\u2011world usage patterns and access frequency"}),"\n",(0,i.jsx)(s.li,{children:"Optimizes search performance via focused, smaller FTS indexes"}),"\n",(0,i.jsx)(s.li,{children:"Simplifies lifecycle management with Versions and Tombstones"}),"\n",(0,i.jsx)(s.li,{children:"Maintains full compliance with FHIR versioning and soft deletes"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["By aligning FHIR\u2019s JSON resource model with Couchbase\u2019s bucket/scope/collection architecture, the platform achieves ",(0,i.jsx)(s.strong,{children:"clarity, performance, and compliance"})," in a unified design."]})]})}function h(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>o});var r=n(6540);const i={},c=r.createContext(i);function t(e){const s=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(c.Provider,{value:s},e.children)}}}]);