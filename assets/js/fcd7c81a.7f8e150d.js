"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8050],{897:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>m,contentTitle:()=>p,default:()=>v,frontMatter:()=>x,metadata:()=>t,toc:()=>j});const t=JSON.parse('{"id":"Admin UI/Admin - FHIR Bucket","title":"Create FHIR Bucket","description":"Let\u2019s start with the initial Admin UI flow. On this page, you\u2019ll convert a Couchbase bucket into a FHIR bucket and confirm everything is healthy.","source":"@site/docs/Admin UI/Admin - FHIR Bucket.mdx","sourceDirName":"Admin UI","slug":"/Admin UI/Admin - FHIR Bucket","permalink":"/couchbase-fhir-ce-docs/docs/Admin UI/Admin - FHIR Bucket","draft":false,"unlisted":false,"editUrl":"https://github.com/couchbaselabs/couchbase-fhir-ce-docs/tree/master/docs/Admin UI/Admin - FHIR Bucket.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Create FHIR Bucket","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Install FHIR Server","permalink":"/couchbase-fhir-ce-docs/docs/Install Couchbase FHIR Server/Install FHIR Server"},"next":{"title":"Buckets View","permalink":"/couchbase-fhir-ce-docs/docs/Admin UI/Admin - Buckets"}}');var s=i(4848),r=i(8453);const o=i.p+"assets/images/dashboard-fa00d1db3d2e15a17a05bd4b95094759.png",c=i.p+"assets/images/convert-fhir-bc780a08a417d998b0ea2d6031306253.png",a=i.p+"assets/images/confirm-7ec2c2edbe8dc62ce2e469695fa4839a.png",l=i.p+"assets/images/confirm-done-5ca795db47edc3accb18ab26c172c49f.png",d=i.p+"assets/images/bucket-post-convert-ee92a11aa54c300f08e3a1c324c84d45.png",h=i.p+"assets/images/dashboard-error-d484e0e369e17fd00325d712a54817ed.png",u=i.p+"assets/images/add-bucket-c4d903c2d10ee7665efbe5a938f52ccd.png",x={title:"Create FHIR Bucket",sidebar_position:1},p=void 0,m={},j=[{value:"1) Open the Admin UI",id:"1-open-the-admin-ui",level:2},{value:"2) Verify Couchbase Cluster Readiness",id:"2-verify-couchbase-cluster-readiness",level:2},{value:"3) Convert a Bucket to a FHIR Bucket",id:"3-convert-a-bucket-to-a-fhir-bucket",level:2},{value:"Validation Settings",id:"validation-settings",level:2},{value:"Validation Mode",id:"validation-mode",level:3},{value:"Strict",id:"strict",level:4},{value:"Lenient",id:"lenient",level:4},{value:"Disabled",id:"disabled",level:4},{value:"Validation Profiles",id:"validation-profiles",level:3},{value:"None",id:"none",level:4},{value:"US Core 6.1.0",id:"us-core-610",level:4},{value:"Example Scenarios",id:"example-scenarios",level:3},{value:"Summary",id:"summary",level:3},{value:"Addtional Buckets",id:"addtional-buckets",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function f(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Let\u2019s start with the initial Admin UI flow. On this page, you\u2019ll convert a Couchbase bucket into a FHIR bucket and confirm everything is healthy."}),"\n",(0,s.jsxs)(n.admonition,{title:"Goal",type:"info",children:[(0,s.jsx)(n.p,{children:"You\u2019ll learn how to:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Open the Admin UI and verify cluster readiness"}),"\n",(0,s.jsx)(n.li,{children:"Convert a bucket to a FHIR bucket (US Core, Lenient)"}),"\n",(0,s.jsx)(n.li,{children:"Troubleshoot common startup and connection issues"}),"\n"]})]}),"\n",(0,s.jsx)(n.h2,{id:"1-open-the-admin-ui",children:"1) Open the Admin UI"}),"\n",(0,s.jsx)(n.p,{children:"Navigate to the Admin UI in your browser:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["URL: ",(0,s.jsx)(n.code,{children:"http://<your-host-or-ip>/"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This brings up the dashboard. We\u2019ll cover each section in depth later; for now, verify the basics."}),"\n",(0,s.jsx)("img",{src:o,alt:"Admin UI dashboard"}),"\n",(0,s.jsx)(n.h2,{id:"2-verify-couchbase-cluster-readiness",children:"2) Verify Couchbase Cluster Readiness"}),"\n",(0,s.jsx)(n.p,{children:"Check the following on the dashboard:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Couchbase Server version is displayed"}),"\n",(0,s.jsxs)(n.li,{children:["Node services include at least these four: ",(0,s.jsx)(n.strong,{children:"Data"}),", ",(0,s.jsx)(n.strong,{children:"Query"}),", ",(0,s.jsx)(n.strong,{children:"Index"}),", ",(0,s.jsx)(n.strong,{children:"Search"})]}),"\n",(0,s.jsx)(n.li,{children:"The bucket you created in Couchbase appears here"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Minimum services",type:"tip",children:(0,s.jsx)(n.p,{children:"FHIR requires Data, Query, Index, and Search. Analytics/Eventing are not required for the initial setup."})}),"\n",(0,s.jsx)(n.h2,{id:"3-convert-a-bucket-to-a-fhir-bucket",children:"3) Convert a Bucket to a FHIR Bucket"}),"\n",(0,s.jsxs)(n.p,{children:["In the Admin UI, locate your bucket and click ",(0,s.jsx)(n.strong,{children:"Add FHIR"})," to begin conversion."]}),"\n",(0,s.jsx)("img",{src:c,width:"400",alt:"Add FHIR to bucket"}),"\n",(0,s.jsx)(n.p,{children:"You\u2019ll be asked to select Validation Settings and a Profile."}),"\n",(0,s.jsxs)(n.admonition,{title:"Quick choice for now",type:"info",children:[(0,s.jsx)(n.p,{children:"We\u2019ll explore these options in detail later. For now, choose:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validation"}),": Lenient"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Profile"}),": US Core"]}),"\n"]})]}),"\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.strong,{children:"Next: Review Configuration"}),"."]}),"\n",(0,s.jsx)("img",{src:a,width:"400",alt:"Review configuration before conversion"}),"\n",(0,s.jsx)(n.admonition,{title:"Irreversible action",type:"warning",children:(0,s.jsxs)(n.p,{children:["Converting to FHIR updates the bucket structure and metadata. This action is ",(0,s.jsx)(n.strong,{children:"irreversible"}),"."]})}),"\n",(0,s.jsxs)(n.p,{children:["Confirm by clicking ",(0,s.jsx)(n.strong,{children:"Convert to FHIR"}),". The process typically completes in a few seconds."]}),"\n",(0,s.jsx)("img",{src:l,width:"400",alt:"Conversion progress and completion"}),"\n",(0,s.jsxs)(n.p,{children:["After conversion, the bucket should clearly show it\u2019s a FHIR bucket, e.g., ",(0,s.jsx)(n.code,{children:"us-core:lenient"}),"."]}),"\n",(0,s.jsx)("img",{src:d,width:"400",alt:"Bucket post-conversion showing FHIR profile"}),"\n",(0,s.jsx)(n.h2,{id:"validation-settings",children:"Validation Settings"}),"\n",(0,s.jsx)(n.p,{children:"When converting a Couchbase bucket into a FHIR-compliant store, validation ensures that all resources conform to the FHIR specification and optional implementation guides such as US Core.\nCouchbase FHIR CE allows you to control the depth and strictness of validation based on your environment and data quality."}),"\n",(0,s.jsx)(n.h3,{id:"validation-mode",children:"Validation Mode"}),"\n",(0,s.jsx)(n.p,{children:"Defines how strictly incoming FHIR resources are validated."}),"\n",(0,s.jsx)(n.h4,{id:"strict",children:"Strict"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Rejects any validation errors \u2014 only fully compliant resources are stored."}),"\n",(0,s.jsx)(n.li,{children:"Ideal for production or regulated environments where data integrity is critical."}),"\n",(0,s.jsx)(n.li,{children:"Ensures every resource meets FHIR and selected profile constraints (structure, types, required elements, valuesets)."}),"\n",(0,s.jsx)(n.li,{children:"Requests that fail validation return HTTP 400 with detailed error messages."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"lenient",children:"Lenient"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Logs warnings for validation errors but continues processing."}),"\n",(0,s.jsx)(n.li,{children:"Accepts the resource even if some fields fail validation."}),"\n",(0,s.jsx)(n.li,{children:"Useful for development, integration testing, or when ingesting data from mixed-quality sources."}),"\n",(0,s.jsx)(n.li,{children:"Balances compliance and flexibility \u2014 errors are visible in logs but do not block ingestion."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"disabled",children:"Disabled"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Skips validation entirely for maximum performance."}),"\n",(0,s.jsx)(n.li,{children:"Recommended only for trusted data pipelines or when validation is handled externally."}),"\n",(0,s.jsx)(n.li,{children:"Useful for large-scale imports or synthetic data loading where structure is guaranteed."}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"Validation adds CPU overhead \u2014 use Lenient or Disabled for bulk operations."})}),"\n",(0,s.jsx)(n.h3,{id:"validation-profiles",children:"Validation Profiles"}),"\n",(0,s.jsx)(n.p,{children:"Controls which FHIR Implementation Guide (IG) is used to validate resource structure and values."}),"\n",(0,s.jsx)(n.h4,{id:"none",children:"None"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Performs base FHIR R4 validation only."}),"\n",(0,s.jsxs)(n.li,{children:["Checks standard FHIR structural rules:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Field types"}),"\n",(0,s.jsx)(n.li,{children:"Required elements"}),"\n",(0,s.jsx)(n.li,{children:"Enumerations and primitive constraints"}),"\n",(0,s.jsx)(n.li,{children:"Does not enforce US Core or regional extensions."}),"\n",(0,s.jsx)(n.li,{children:"Suitable for generic FHIR projects or non-US implementations."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"us-core-610",children:"US Core 6.1.0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Enforces the HL7\xae US Core Implementation Guide 6.1.0, including:"}),"\n",(0,s.jsx)(n.li,{children:"Mandatory profiles for key resources (Patient, Observation, Condition, etc.)"}),"\n",(0,s.jsx)(n.li,{children:"Required extensions and bindings"}),"\n",(0,s.jsx)(n.li,{children:"ValueSet constraints (e.g., specific coding systems, LOINC, SNOMED)"}),"\n",(0,s.jsx)(n.li,{children:"Validates both structure and terminology bindings (e.g., codes must belong to specific value sets)."}),"\n",(0,s.jsx)(n.li,{children:"Ensures compatibility with US Core tests such as HL7 Inferno."}),"\n",(0,s.jsx)(n.li,{children:"Uses HAPI FHIR validator and NPM IG packages under the hood."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-scenarios",children:"Example Scenarios"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Environment"}),(0,s.jsx)(n.th,{children:"Validation Mode"}),(0,s.jsx)(n.th,{children:"Profile"}),(0,s.jsx)(n.th,{children:"Reason"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Production (US)"}),(0,s.jsx)(n.td,{children:"Strict"}),(0,s.jsx)(n.td,{children:"US Core 6.1.0"}),(0,s.jsx)(n.td,{children:"Full compliance for EHR / interoperability"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Development"}),(0,s.jsx)(n.td,{children:"Lenient"}),(0,s.jsx)(n.td,{children:"None"}),(0,s.jsx)(n.td,{children:"Flexibility to test payloads and iteratively fix issues"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Bulk Import / Synthetic Data"}),(0,s.jsx)(n.td,{children:"Disabled"}),(0,s.jsx)(n.td,{children:"None"}),(0,s.jsx)(n.td,{children:"Max speed, external validation assumed"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Testing with Inferno"}),(0,s.jsx)(n.td,{children:"Strict"}),(0,s.jsx)(n.td,{children:"US Core 6.1.0"}),(0,s.jsx)(n.td,{children:"Pass Inferno\u2019s \u201cMust Support\u201d and validation tests"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Setting"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Mode"}),(0,s.jsx)(n.td,{children:"Controls how validation errors are handled (Strict, Lenient, Disabled)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Profile"}),(0,s.jsx)(n.td,{children:"Chooses which ruleset to validate against (None = base FHIR, US Core = extended)"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"By tuning these options, Couchbase FHIR CE can adapt to development, testing, and production needs \u2014 ensuring your FHIR data is as accurate, compliant, and performant as your use case demands."}),"\n",(0,s.jsx)(n.h2,{id:"addtional-buckets",children:"Addtional Buckets"}),"\n",(0,s.jsx)(n.p,{children:"When you create buckets from the Couchbase Consoe after starting Couchbase FHIR Server, you do not need to restart the FHIR containers. The new bucket will appear in the Admin UI automatically."}),"\n",(0,s.jsx)("img",{src:u,width:"400",alt:"Admin UI dashboard"}),"\n",(0,s.jsx)(n.p,{children:"You can either convert this bucket to FHIR as a new tenant, or use that for other puposes too."}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.p,{children:"If your dashboard does not come up, you might see an error screen like this:"}),"\n",(0,s.jsx)("img",{src:h,alt:"Dashboard error screen"}),"\n",(0,s.jsx)(n.p,{children:"First, check logs:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ~/couchbase-fhir-ce\ndocker-compose logs -f\n"})}),"\n",(0,s.jsx)(n.p,{children:"Common symptoms (authentication/auto-connection):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:'fhir-server-1 | 23:46:31.428 ERROR com.couchbase.io - [com.couchbase.io][SaslAuthenticationFailedEvent][47ms] User authentication failed; check username and password. If you are using LDAP you must either connect via TLS (recommended), or enable _only_ PLAIN in the allowed SASL mechanisms list on the PasswordAuthenticator (without TLS this is insecure and will present the user credentials in plain-text over the wire). {"circuitBreaker":"DISABLED","coreId":"0xe8ad508500000001","remote":"host.docker.internal:11210","status":"UNKNOWN","type":"KV","xerror":{"ref":"4f30c6b7-a347-4afc-aacf-5b07c70d97b3"}}\nfhir-server-1 | 23:46:35.076 ERROR c.c.a.c.service.ConnectionService - \u23f0 Connection validation timed out for default: likely authentication failure\nfhir-server-1 | 23:46:35.076 ERROR c.c.a.c.s.ConfigurationStartupService - \u274c Auto-connection failed: Connection failed\nfhir-server-1 | 23:46:35.076 INFO c.c.a.c.s.ConfigurationStartupService - \ud83d\udccb FHIR Server started but no connection established - use frontend or REST API to connect\n'})}),"\n",(0,s.jsxs)(n.p,{children:["If you see these, verify and fix your ",(0,s.jsx)(n.code,{children:"config.yaml"}),", then restart:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Edit the configuration inside the checked-out couchbase-fhir-ce directory\nvi couchbase-fhir-ce/config.yaml\n\n# Restart the stack\ndocker-compose restart\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"Important",type:"tip",children:(0,s.jsxs)(n.p,{children:["Make sure you edit the ",(0,s.jsx)(n.code,{children:"config.yaml"})," inside your ",(0,s.jsx)(n.code,{children:"couchbase-fhir-ce"})," folder (the one the container reads), not a copy elsewhere."]})}),"\n",(0,s.jsx)(n.p,{children:"On success, your logs should include lines like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"fhir-server-1 | 23:51:18.654 INFO c.c.a.c.s.ConfigurationStartupService - \u2705 num-kv-connections: 8 (from config.yaml)\nfhir-server-1 | 23:51:18.654 INFO c.c.a.c.s.ConfigurationStartupService - \ud83d\udd27 kv-timeout-seconds: 10 (default)\nfhir-server-1 | 23:51:18.655 INFO c.c.a.c.s.ConfigurationStartupService - \ud83d\udd12 Transaction durability: NONE (suitable for development/single-node)\nfhir-server-1 | 23:51:18.655 INFO c.c.a.c.s.ConfigurationStartupService - \ud83d\udd17 Attempting auto-connection to: host.docker.internal (Server)\nfhir-server-1 | 23:51:20.558 INFO c.c.a.c.s.ConfigurationStartupService - \u2705 Auto-connection successful! FHIR Server is ready for API requests\nfhir-server-1 | 23:51:20.558 INFO c.c.a.c.s.ConfigurationStartupService - \ud83d\ude80 Backend startup complete - FHIR APIs are now available\nfhir-server-1 | 23:51:20.559 INFO c.c.a.c.s.ConfigurationStartupService - \ud83d\udca1 Collections will be warmed up automatically on first access to each FHIR bucket\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"You\u2019re ready",type:"success",children:(0,s.jsx)(n.p,{children:"With a FHIR bucket created and the Admin UI healthy, you can proceed to import data, explore search, and manage tenants."})})]})}function v(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(f,{...e})}):f(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);