<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Install Couchbase FHIR Server/Validation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Validation and Profile | Couchbase FHIR CE</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://fhir.couchbase.com/docs/Install Couchbase FHIR Server/Validation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Validation and Profile | Couchbase FHIR CE"><meta data-rh="true" name="description" content="When converting a Couchbase bucket into a FHIR-compliant store, validation ensures that all resources conform to the FHIR specification and optional implementation guides such as US Core."><meta data-rh="true" property="og:description" content="When converting a Couchbase bucket into a FHIR-compliant store, validation ensures that all resources conform to the FHIR specification and optional implementation guides such as US Core."><link data-rh="true" rel="icon" href="/img/couchbase.png"><link data-rh="true" rel="canonical" href="https://fhir.couchbase.com/docs/Install Couchbase FHIR Server/Validation"><link data-rh="true" rel="alternate" href="https://fhir.couchbase.com/docs/Install Couchbase FHIR Server/Validation" hreflang="en"><link data-rh="true" rel="alternate" href="https://fhir.couchbase.com/docs/Install Couchbase FHIR Server/Validation" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Validation and Profile","item":"https://fhir.couchbase.com/docs/Install Couchbase FHIR Server/Validation"}]}</script><link rel="stylesheet" href="/assets/css/styles.70b9aeba.css">
<script src="/assets/js/runtime~main.1cf602fa.js" defer="defer"></script>
<script src="/assets/js/main.21b358bd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/couchbase.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/couchbase.png" alt="Couchbase FHIR CE Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/couchbase.png" alt="Couchbase FHIR CE Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Couchbase FHIR CE</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a href="https://www.couchbase.com/community-license-agreement04272021/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">License<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/couchbaselabs/couchbase-fhir-ce" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Overview/Why Couchbase">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Install Couchbase/Couchbase - Docker">Install Couchbase</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/Install Couchbase FHIR Server/Install Docker">Install Couchbase FHIR Server</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Install Couchbase FHIR Server/Install Docker">Prerequisite Install Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Install Couchbase FHIR Server/Create Config.yaml">Create config.yaml</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Install Couchbase FHIR Server/Validation">Validation and Profile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Install Couchbase FHIR Server/Install FHIR Server">Install FHIR Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Install Couchbase FHIR Server/Enable TLS">Enable TLS/HTTPS</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Admin UI/Admin - Initial">Admin UI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Users/Overview">User Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/API Tokens/OAuth">API Tokens Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/API Clients/curl">REST Clients</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Smart/Intro">SMART Clients</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/API/Intro">FHIR API</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Install Couchbase FHIR Server</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Validation and Profile</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Validation and Profiles</h1></header>
<p>When converting a Couchbase bucket into a FHIR-compliant store, validation ensures that all resources conform to the FHIR specification and optional implementation guides such as US Core.
Couchbase FHIR CE allows you to control the depth and strictness of validation based on your environment and data quality.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validation-mode">Validation Mode<a href="#validation-mode" class="hash-link" aria-label="Direct link to Validation Mode" title="Direct link to Validation Mode">​</a></h3>
<p>Defines how incoming FHIR resources are validated. Modes align with <code>config.yaml</code>:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="lenient">Lenient<a href="#lenient" class="hash-link" aria-label="Direct link to Lenient" title="Direct link to Lenient">​</a></h4>
<ul>
<li>Runs FHIR validation and logs warnings instead of rejecting errors.</li>
<li>Accepts resources even if some fields fail validation.</li>
<li>Good for development, integration testing, or mixed-quality sources.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="none-disabled">None (Disabled)<a href="#none-disabled" class="hash-link" aria-label="Direct link to None (Disabled)" title="Direct link to None (Disabled)">​</a></h4>
<ul>
<li>Skips validation for maximum performance.</li>
<li>Recommended only for trusted pipelines or when validation is handled externally.</li>
<li>Useful for bulk imports or synthetic data loading.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Validation adds CPU overhead — use <code>lenient</code> or <code>none</code> for bulk operations depending on data quality.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validation-profiles">Validation Profiles<a href="#validation-profiles" class="hash-link" aria-label="Direct link to Validation Profiles" title="Direct link to Validation Profiles">​</a></h3>
<p>Controls which FHIR Implementation Guide (IG) is used to validate resource structure and values.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="none">None<a href="#none" class="hash-link" aria-label="Direct link to None" title="Direct link to None">​</a></h4>
<ul>
<li>Performs base FHIR R4 validation only.</li>
<li>Checks standard FHIR structural rules:<!-- -->
<ul>
<li>Field types</li>
<li>Required elements</li>
<li>Enumerations and primitive constraints</li>
<li>Does not enforce US Core or regional extensions.</li>
<li>Suitable for generic FHIR projects or non-US implementations.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="us-core-610">US Core 6.1.0<a href="#us-core-610" class="hash-link" aria-label="Direct link to US Core 6.1.0" title="Direct link to US Core 6.1.0">​</a></h4>
<ul>
<li>Enforces the HL7® US Core Implementation Guide 6.1.0, including:</li>
<li>Mandatory profiles for key resources (Patient, Observation, Condition, etc.)</li>
<li>Required extensions and bindings</li>
<li>ValueSet constraints (e.g., specific coding systems, LOINC, SNOMED)</li>
<li>Validates both structure and terminology bindings (e.g., codes must belong to specific value sets).</li>
<li>Ensures compatibility with US Core tests such as HL7 Inferno.</li>
<li>Uses HAPI FHIR validator and NPM IG packages under the hood.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-scenarios">Example Scenarios<a href="#example-scenarios" class="hash-link" aria-label="Direct link to Example Scenarios" title="Direct link to Example Scenarios">​</a></h3>
<table><thead><tr><th>Environment</th><th>Validation Mode</th><th>Profile</th><th>Reason</th></tr></thead><tbody><tr><td>Development</td><td>Lenient</td><td>None</td><td>Flexibility to test payloads and iteratively fix issues</td></tr><tr><td>Bulk Import / Synthetic Data</td><td>None</td><td>None</td><td>Max speed, external validation assumed</td></tr><tr><td>US projects (profiles on)</td><td>Lenient</td><td>US Core 6.1.0</td><td>See warnings, keep data flowing</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="modes-at-a-glance">Modes at a Glance<a href="#modes-at-a-glance" class="hash-link" aria-label="Direct link to Modes at a Glance" title="Direct link to Modes at a Glance">​</a></h2>
<table><thead><tr><th>Mode</th><th>Behavior</th><th>Typical Use</th></tr></thead><tbody><tr><td><strong>none</strong></td><td>No validation performed; accepts any JSON containing <code>resourceType</code>.</td><td>Rapid development, bulk import, trusted data sources</td></tr><tr><td><strong>lenient</strong></td><td>Validates against FHIR R4; logs warnings instead of rejecting on errors.</td><td>Integration with legacy systems, relaxed QA</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fhir-normalization-applies-to-all-modes">FHIR Normalization (applies to all modes)<a href="#fhir-normalization-applies-to-all-modes" class="hash-link" aria-label="Direct link to FHIR Normalization (applies to all modes)" title="Direct link to FHIR Normalization (applies to all modes)">​</a></h2>
<p>Couchbase FHIR always normalizes input before validation:</p>
<table><thead><tr><th>Input</th><th>Normalized Output</th><th>Note</th></tr></thead><tbody><tr><td><code>&quot;given&quot;: &quot;John&quot;</code></td><td><code>&quot;given&quot;: [&quot;John&quot;]</code></td><td>Single → array</td></tr><tr><td><code>&quot;active&quot;: [true]</code></td><td><code>&quot;active&quot;: true</code></td><td>Array → scalar</td></tr><tr><td><code>&quot;family&quot;: &quot; Smith &quot;</code></td><td><code>&quot;family&quot;: &quot;Smith&quot;</code></td><td>Trims whitespace</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Because normalization happens first, even strict mode won’t flag these shorthand formats as errors. Validation occurs after parsing.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="validation-examples">Validation Examples<a href="#validation-examples" class="hash-link" aria-label="Direct link to Validation Examples" title="Direct link to Validation Examples">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-valid-in-all-modes">✅ Valid in all modes<a href="#-valid-in-all-modes" class="hash-link" aria-label="Direct link to ✅ Valid in all modes" title="Direct link to ✅ Valid in all modes">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{ &quot;resourceType&quot;: &quot;Patient&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: [{ &quot;use&quot;: &quot;official&quot;, &quot;family&quot;: &quot;Smith&quot;, &quot;given&quot;: [&quot;John&quot;] }],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;gender&quot;: &quot;male&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;birthDate&quot;: &quot;1990-01-01&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-passes-lenient--fails-none-only-if-external-checks-are-present">⚠ Passes lenient / fails none only if external checks are present<a href="#-passes-lenient--fails-none-only-if-external-checks-are-present" class="hash-link" aria-label="Direct link to ⚠ Passes lenient / fails none only if external checks are present" title="Direct link to ⚠ Passes lenient / fails none only if external checks are present">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{ &quot;resourceType&quot;: &quot;Patient&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: [{ &quot;family&quot;: &quot;Smith&quot; }],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;gender&quot;: &quot;male&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<ul>
<li>Reason: With US Core profile enabled, identifier and full name are expected.<!-- -->
<ul>
<li>none → ✅ accepts</li>
<li>lenient → ⚠ warns, still stores</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-fails-lenient">❌ Fails lenient<a href="#-fails-lenient" class="hash-link" aria-label="Direct link to ❌ Fails lenient" title="Direct link to ❌ Fails lenient">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{ &quot;resourceType&quot;: &quot;Patient&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;gender&quot;: &quot;attack-helicopter&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;birthDate&quot;: &quot;1990-01-01&quot; }</span><br></span></code></pre></div></div>
<ul>
<li>Invalid enum (gender must be male | female | other | unknown).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-fails-lenient-1">❌ Fails lenient<a href="#-fails-lenient-1" class="hash-link" aria-label="Direct link to ❌ Fails lenient" title="Direct link to ❌ Fails lenient">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{ &quot;resourceType&quot;: &quot;Patient&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;gender&quot;: &quot;Male&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;birthDate&quot;: &quot;01/01/1990&quot; }</span><br></span></code></pre></div></div>
<ul>
<li>Wrong case + date format (YYYY-MM-DD expected).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-fails-lenient-2">❌ Fails lenient<a href="#-fails-lenient-2" class="hash-link" aria-label="Direct link to ❌ Fails lenient" title="Direct link to ❌ Fails lenient">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{ &quot;resourceType&quot;: &quot;Patient&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;Smith&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;gender&quot;: &quot;male&quot; }</span><br></span></code></pre></div></div>
<ul>
<li>name must be an array; invalid cardinality.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="notes">Notes<a href="#notes" class="hash-link" aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h2>
<ul>
<li>For base FHIR R4 (no profiles), both modes accept compatible resources; <code>lenient</code> still warns on minor issues.</li>
<li>When profiles or terminology validation are active, <code>lenient</code> logs warnings for violations while <code>none</code> bypasses validation entirely.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-profiles-are-enabled">When Profiles Are Enabled<a href="#when-profiles-are-enabled" class="hash-link" aria-label="Direct link to When Profiles Are Enabled" title="Direct link to When Profiles Are Enabled">​</a></h2>
<p>With a profile such as US Core 6.1.0, validation extends beyond base FHIR and checks required fields and terminology bindings. Example requirements for Patient include an identifier and a full name.</p>
<table><thead><tr><th>Mode</th><th>Result</th></tr></thead><tbody><tr><td>none</td><td>✅ Accepted</td></tr><tr><td>lenient</td><td>⚠ Logs warnings, stores anyway</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="recommended-modes">Recommended Modes<a href="#recommended-modes" class="hash-link" aria-label="Direct link to Recommended Modes" title="Direct link to Recommended Modes">​</a></h2>
<table><thead><tr><th>Use Case</th><th>Recommended Mode</th></tr></thead><tbody><tr><td>Development / testing</td><td><strong>none</strong> — fastest, skip validation</td></tr><tr><td>Integration / external sources</td><td><strong>lenient</strong> — allow warnings, keep data flowing</td></tr><tr><td>Internal tools / synthetic data</td><td><strong>lenient</strong> — balance speed and safety</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-helpful-parsing">Understanding “Helpful” Parsing<a href="#understanding-helpful-parsing" class="hash-link" aria-label="Direct link to Understanding “Helpful” Parsing" title="Direct link to Understanding “Helpful” Parsing">​</a></h2>
<p>Couchbase FHIR intentionally makes parsing forgiving to simplify developer experience:</p>
<ul>
<li>Converts single values to arrays automatically.</li>
<li>Trims whitespace.</li>
<li>Normalizes data types where unambiguous.</li>
</ul>
<p>This means lenient and strict share the same parser — strict mode focuses on semantic validation, not raw JSON schema enforcement.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<table><thead><tr><th>Mode</th><th>Checks</th><th>Rejects</th><th>Best For</th></tr></thead><tbody><tr><td>none</td><td>None</td><td>Nothing</td><td>Bulk load, dev</td></tr><tr><td>lenient</td><td>FHIR rules (+ warnings)</td><td>Severe structural errors</td><td>Integration</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bottom-line">Bottom line:<a href="#bottom-line" class="hash-link" aria-label="Direct link to Bottom line:" title="Direct link to Bottom line:">​</a></h3>
<ul>
<li>Without profiles, both modes accept compatible resources; <code>lenient</code> provides warnings.</li>
<li>With profiles, <code>lenient</code> warns on violations; <code>none</code> skips validation.</li>
<li>Use <code>none</code> only for development or trusted bulk imports.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/couchbaselabs/couchbase-fhir-ce-docs/tree/master/docs/Install Couchbase FHIR Server/Validation.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Install Couchbase FHIR Server/Create Config.yaml"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Create config.yaml</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Install Couchbase FHIR Server/Install FHIR Server"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Install FHIR Server</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#validation-mode" class="table-of-contents__link toc-highlight">Validation Mode</a></li><li><a href="#validation-profiles" class="table-of-contents__link toc-highlight">Validation Profiles</a></li><li><a href="#example-scenarios" class="table-of-contents__link toc-highlight">Example Scenarios</a></li><li><a href="#modes-at-a-glance" class="table-of-contents__link toc-highlight">Modes at a Glance</a></li><li><a href="#fhir-normalization-applies-to-all-modes" class="table-of-contents__link toc-highlight">FHIR Normalization (applies to all modes)</a></li><li><a href="#validation-examples" class="table-of-contents__link toc-highlight">Validation Examples</a></li><li><a href="#notes" class="table-of-contents__link toc-highlight">Notes</a></li><li><a href="#when-profiles-are-enabled" class="table-of-contents__link toc-highlight">When Profiles Are Enabled</a></li><li><a href="#recommended-modes" class="table-of-contents__link toc-highlight">Recommended Modes</a></li><li><a href="#understanding-helpful-parsing" class="table-of-contents__link toc-highlight">Understanding “Helpful” Parsing</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a><ul><li><a href="#bottom-line" class="table-of-contents__link toc-highlight">Bottom line:</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.couchbase.com/forums/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Couchbase Forums<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bit.ly/3JGCeUg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/couchbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/couchbaselabs/couchbase-fhir-ce" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.couchbase.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Couchbase<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Couchbase, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>