<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-API/patch" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">PATCH Resource | Couchbase FHIR CE</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://couchbaselabs.github.io/couchbase-fhir-ce-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://couchbaselabs.github.io/couchbase-fhir-ce-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://couchbaselabs.github.io/couchbase-fhir-ce-docs/docs/API/patch"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="PATCH Resource | Couchbase FHIR CE"><meta data-rh="true" name="description" content="The PATCH operation allows you to modify specific fields of an existing resource without sending the entire document."><meta data-rh="true" property="og:description" content="The PATCH operation allows you to modify specific fields of an existing resource without sending the entire document."><link data-rh="true" rel="icon" href="/couchbase-fhir-ce-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://couchbaselabs.github.io/couchbase-fhir-ce-docs/docs/API/patch"><link data-rh="true" rel="alternate" href="https://couchbaselabs.github.io/couchbase-fhir-ce-docs/docs/API/patch" hreflang="en"><link data-rh="true" rel="alternate" href="https://couchbaselabs.github.io/couchbase-fhir-ce-docs/docs/API/patch" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"PATCH Resource","item":"https://couchbaselabs.github.io/couchbase-fhir-ce-docs/docs/API/patch"}]}</script><link rel="alternate" type="application/rss+xml" href="/couchbase-fhir-ce-docs/blog/rss.xml" title="Couchbase FHIR CE RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/couchbase-fhir-ce-docs/blog/atom.xml" title="Couchbase FHIR CE Atom Feed"><link rel="stylesheet" href="/couchbase-fhir-ce-docs/assets/css/styles.8748a5e5.css">
<script src="/couchbase-fhir-ce-docs/assets/js/runtime~main.caf23015.js" defer="defer"></script>
<script src="/couchbase-fhir-ce-docs/assets/js/main.98b7df85.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/couchbase-fhir-ce-docs/img/logo.svg"><link rel="preload" as="image" href="/couchbase-fhir-ce-docs/assets/images/patch-4ff1650f334d7498013f813bae872809.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/couchbase-fhir-ce-docs/"><div class="navbar__logo"><img src="/couchbase-fhir-ce-docs/img/logo.svg" alt="Couchbase FHIR CE Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/couchbase-fhir-ce-docs/img/logo.svg" alt="Couchbase FHIR CE Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Couchbase FHIR CE</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/couchbase-fhir-ce-docs/docs/intro">Documentation</a><a href="https://www.couchbase.com/community-license-agreement04272021/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">License<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a class="navbar__item navbar__link" href="/couchbase-fhir-ce-docs/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/couchbaselabs/couchbase-fhir-ce" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/couchbase-fhir-ce-docs/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/couchbase-fhir-ce-docs/docs/Overview/Why Couchbase">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/couchbase-fhir-ce-docs/docs/Install Couchbase/Couchbase - Docker">Install Couchbase</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/couchbase-fhir-ce-docs/docs/Install Couchbase FHIR Server/Install Docker">Install Couchbase FHIR Server</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/couchbase-fhir-ce-docs/docs/Admin UI/Admin - Dashboard">Admin UI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/couchbase-fhir-ce-docs/docs/API/Intro">API</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/couchbase-fhir-ce-docs/docs/API/Intro">Introduction to REST API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/couchbase-fhir-ce-docs/docs/API/post-single">POST Single Resource</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/couchbase-fhir-ce-docs/docs/API/put-single">PUT Single Resource</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/couchbase-fhir-ce-docs/docs/API/put-update">PUT - Update Resource</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/couchbase-fhir-ce-docs/docs/API/patch">PATCH Resource</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/couchbase-fhir-ce-docs/docs/API/check">Checkpoint after updates</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/couchbase-fhir-ce-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">PATCH Resource</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>PATCH — Partial Update of a Resource</h1></header>
<p>The PATCH operation allows you to modify specific fields of an existing resource without sending the entire document.
Couchbase FHIR CE implements FHIR’s JSON Patch format, based on RFC 6902, with adaptations for FHIR resource structures.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="endpoint">Endpoint<a href="#endpoint" class="hash-link" aria-label="Direct link to Endpoint" title="Direct link to Endpoint">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PATCH /fhir/&lt;bucket&gt;/&lt;resourceType&gt;/&lt;id&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>Update Patient/1234 to add a deceasedDateTime:
PATCH <a href="http://localhost/fhir/acme/Patient/1234" target="_blank" rel="noopener noreferrer">http://localhost/fhir/acme/Patient/1234</a></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { &quot;op&quot;: &quot;add&quot;, &quot;path&quot;: &quot;/deceasedDateTime&quot;, &quot;value&quot;: &quot;2022-07-22&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre></div></div>
<img src="/couchbase-fhir-ce-docs/assets/images/patch-4ff1650f334d7498013f813bae872809.png" alt="ImgPatch">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="server-response">Server Response<a href="#server-response" class="hash-link" aria-label="Direct link to Server Response" title="Direct link to Server Response">​</a></h3>
<p>Response: 200 OK
The updated resource now includes:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;deceasedDateTime&quot;: &quot;2022-07-22&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;meta&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;versionId&quot;: &quot;3&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lastUpdated&quot;: &quot;2025-10-08T23:41:35.194+00:00&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;tag&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;system&quot;: &quot;http://couchbase.fhir.com/fhir/custom-tags&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;code&quot;: &quot;updated-by&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;display&quot;: &quot;user:anonymous&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="behavior-and-server-logic">Behavior and Server Logic<a href="#behavior-and-server-logic" class="hash-link" aria-label="Direct link to Behavior and Server Logic" title="Direct link to Behavior and Server Logic">​</a></h2>
<p>PATCH is idempotent per operation list — applying the same patch twice yields the same result.</p>
<p>Server wraps the operation in a transaction:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">Begin</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">transaction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">current</span><span class="token plain"> Patient</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1234</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">Apply</span><span class="token plain"> each operation </span><span class="token operator" style="color:#393A34">in</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">order</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">Save</span><span class="token plain"> the updated resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Copy old version </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> Versions collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Increment meta</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">versionId</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">Update</span><span class="token plain"> meta</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lastUpdated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">Add</span><span class="token plain"> updated</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">Commit</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">transaction</span><br></span></code></pre></div></div>
<p>Validation rules (Strict / Lenient / Disabled) are applied to the final resource after patching.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metadata-after-patch">metadata after patch<a href="#metadata-after-patch" class="hash-link" aria-label="Direct link to metadata after patch" title="Direct link to metadata after patch">​</a></h3>
<table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>versionId</code></td><td>Incremented automatically</td></tr><tr><td><code>lastUpdated</code></td><td>Timestamp of this update</td></tr><tr><td><code>tag</code></td><td><code>updated-by</code> audit tag</td></tr><tr><td><code>profile</code></td><td>Preserved from previous version</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-patch-operations">Common Patch Operations<a href="#common-patch-operations" class="hash-link" aria-label="Direct link to Common Patch Operations" title="Direct link to Common Patch Operations">​</a></h2>
<table><thead><tr><th><strong>op</strong></th><th><strong>Description</strong></th><th><strong>Example Usage</strong></th></tr></thead><tbody><tr><td><code>add</code></td><td>Adds a new value (or inserts into an array)</td><td><code>{ &quot;op&quot;: &quot;add&quot;, &quot;path&quot;: &quot;/deceasedDateTime&quot;, &quot;value&quot;: &quot;2022-07-22&quot; }</code></td></tr><tr><td><code>replace</code></td><td>Replaces the value at the specified path</td><td><code>{ &quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/name/0/family&quot;, &quot;value&quot;: &quot;Johnson&quot; }</code></td></tr><tr><td><code>remove</code></td><td>Removes the value at the specified path</td><td><code>{ &quot;op&quot;: &quot;remove&quot;, &quot;path&quot;: &quot;/address/0&quot; }</code></td></tr><tr><td><code>copy</code></td><td>Copies a value from one path to another</td><td><code>{ &quot;op&quot;: &quot;copy&quot;, &quot;from&quot;: &quot;/name/0&quot;, &quot;path&quot;: &quot;/alias/0&quot; }</code></td></tr><tr><td><code>move</code></td><td>Moves a value from one path to another</td><td><code>{ &quot;op&quot;: &quot;move&quot;, &quot;from&quot;: &quot;/contact/0&quot;, &quot;path&quot;: &quot;/contact/1&quot; }</code></td></tr><tr><td><code>test</code></td><td>Asserts a value matches before continuing</td><td><code>{ &quot;op&quot;: &quot;test&quot;, &quot;path&quot;: &quot;/deceasedBoolean&quot;, &quot;value&quot;: false }</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-storage--versioning">Data Storage &amp; Versioning<a href="#data-storage--versioning" class="hash-link" aria-label="Direct link to Data Storage &amp; Versioning" title="Direct link to Data Storage &amp; Versioning">​</a></h2>
<ul>
<li>Updated resource replaces the existing document in its collection (Resources.Patient)</li>
<li>Previous version stored in Resources.Versions</li>
<li>FTS index is refreshed with new content</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-to-use-patch">When to Use PATCH<a href="#when-to-use-patch" class="hash-link" aria-label="Direct link to When to Use PATCH" title="Direct link to When to Use PATCH">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-patch-when">Use PATCH when:<a href="#use-patch-when" class="hash-link" aria-label="Direct link to Use PATCH when:" title="Direct link to Use PATCH when:">​</a></h3>
<ul>
<li>You want to update specific fields only</li>
<li>You want to avoid sending or reconstructing the entire resource</li>
<li>You need atomic, targeted changes with full versioning</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-put-when">Use PUT when:<a href="#use-put-when" class="hash-link" aria-label="Direct link to Use PUT when:" title="Direct link to Use PUT when:">​</a></h3>
<ul>
<li>You’re replacing the entire resource body</li>
<li>You want to reset the resource to a known state</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices">​</a></h2>
<ul>
<li>Always specify the full JSON Pointer path (e.g., /telecom/1/value)</li>
<li>Ensure your path exists for replace, or use add for new fields</li>
<li>Validate with Strict mode in production to catch invalid structures</li>
<li>Remember that arrays are zero-indexed</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<ul>
<li>PATCH = partial update (RFC 6902)</li>
<li>Server ensures transactional safety and version history</li>
<li>versionId increments; old version archived</li>
<li>Fast, lightweight, and ideal for incremental updates</li>
<li>Fully FHIR R4-compliant</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/couchbaselabs/couchbase-fhir-ce-docs/tree/master/docs/API/patch.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/couchbase-fhir-ce-docs/docs/API/put-update"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">PUT - Update Resource</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/couchbase-fhir-ce-docs/docs/API/check"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Checkpoint after updates</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#endpoint" class="table-of-contents__link toc-highlight">Endpoint</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#server-response" class="table-of-contents__link toc-highlight">Server Response</a></li><li><a href="#behavior-and-server-logic" class="table-of-contents__link toc-highlight">Behavior and Server Logic</a><ul><li><a href="#metadata-after-patch" class="table-of-contents__link toc-highlight">metadata after patch</a></li></ul></li><li><a href="#common-patch-operations" class="table-of-contents__link toc-highlight">Common Patch Operations</a></li><li><a href="#data-storage--versioning" class="table-of-contents__link toc-highlight">Data Storage &amp; Versioning</a></li><li><a href="#when-to-use-patch" class="table-of-contents__link toc-highlight">When to Use PATCH</a><ul><li><a href="#use-patch-when" class="table-of-contents__link toc-highlight">Use PATCH when:</a></li><li><a href="#use-put-when" class="table-of-contents__link toc-highlight">Use PUT when:</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/couchbase-fhir-ce-docs/docs/intro">Documentation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.couchbase.com/forums/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Couchbase Forums<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bit.ly/3JGCeUg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/couchbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/couchbase-fhir-ce-docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/couchbaselabs/couchbase-fhir-ce" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.couchbase.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Couchbase<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Couchbase, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>