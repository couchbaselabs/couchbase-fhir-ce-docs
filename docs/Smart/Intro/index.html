<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Smart/Intro" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">SMART Overview | Couchbase FHIR CE</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://fhir.couchbase.com/docs/Smart/Intro"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SMART Overview | Couchbase FHIR CE"><meta data-rh="true" name="description" content="SMART on FHIR is an open standard for launching healthcare apps securely against FHIR APIs. It defines how apps obtain authorization (scopes) and user context (patient, practitioner) using OAuth 2.0 and OpenID Connect."><meta data-rh="true" property="og:description" content="SMART on FHIR is an open standard for launching healthcare apps securely against FHIR APIs. It defines how apps obtain authorization (scopes) and user context (patient, practitioner) using OAuth 2.0 and OpenID Connect."><link data-rh="true" rel="icon" href="/img/couchbase.png"><link data-rh="true" rel="canonical" href="https://fhir.couchbase.com/docs/Smart/Intro"><link data-rh="true" rel="alternate" href="https://fhir.couchbase.com/docs/Smart/Intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://fhir.couchbase.com/docs/Smart/Intro" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"SMART Overview","item":"https://fhir.couchbase.com/docs/Smart/Intro"}]}</script><link rel="stylesheet" href="/assets/css/styles.70b9aeba.css">
<script src="/assets/js/runtime~main.1cf602fa.js" defer="defer"></script>
<script src="/assets/js/main.21b358bd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/couchbase.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/couchbase.png" alt="Couchbase FHIR CE Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/couchbase.png" alt="Couchbase FHIR CE Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Couchbase FHIR CE</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a href="https://www.couchbase.com/community-license-agreement04272021/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">License<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/couchbaselabs/couchbase-fhir-ce" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Overview/Why Couchbase">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Install Couchbase/Couchbase - Docker">Install Couchbase</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Install Couchbase FHIR Server/Install Docker">Install Couchbase FHIR Server</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Admin UI/Admin - Initial">Admin UI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Users/Overview">User Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/API Tokens/OAuth">API Tokens Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/API Clients/curl">REST Clients</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/Smart/Intro">SMART Clients</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Smart/Intro">SMART Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Smart/Client-Registration">Client Registration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Smart/Inferno">Inferno Client</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/API/Intro">FHIR API</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SMART Clients</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">SMART Overview</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SMART on FHIR Overview</h1></header>
<p>SMART on FHIR is an open standard for launching healthcare apps securely against FHIR APIs. It defines how apps obtain authorization (scopes) and user context (patient, practitioner) using OAuth 2.0 and OpenID Connect.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-smart">Why SMART?<a href="#why-smart" class="hash-link" aria-label="Direct link to Why SMART?" title="Direct link to Why SMART?">​</a></h2>
<ul>
<li>Standardized app launch flows that work across EHRs and FHIR servers</li>
<li>Fine-grained permission model using SMART scopes (e.g., <code>patient/Observation.rs</code>)</li>
<li>User identity and context via OpenID Connect (<code>openid</code>, <code>fhirUser</code>, <code>launch/patient</code>)</li>
<li>Security best practices: PKCE, confidential/public clients, redirect URIs</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="oauth-2-flow">OAuth 2 Flow<a href="#oauth-2-flow" class="hash-link" aria-label="Direct link to OAuth 2 Flow" title="Direct link to OAuth 2 Flow">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   Client    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Application │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────┬──────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │ 1. GET /oauth2/authorize?client_id=X&amp;state=ABC&amp;redirect_uri=...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Spring Authorization Server        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  (Our FHIR Server)                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │ 2. Check: Is user authenticated?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │    NO → Redirect to /oauth2/login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Login Page  │ User enters credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────┬──────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │ 3. POST credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Spring Security Authentication     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - Validates credentials            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - Creates Authentication object    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - Calls SmartOAuthSuccessHandler   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────┬──────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │ 4. SmartOAuthSuccessHandler:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │    - Gets SavedRequest (original /oauth2/authorize URL)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │    - If practitioner + launch/patient → /patient-picker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │    - Otherwise → Redirect to savedUrl (back to /oauth2/authorize)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Spring Authorization Server        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Processes /oauth2/authorize again  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  5. Check: Is user authenticated?   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     YES ✓                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  6. Check: Does client require      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     consent?                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     YES → Need consent              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  7. Create OAuth2Authorization with:│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - id: random UUID               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - state: (consent state)        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - Store in OAuth2Authorization  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ConsentService                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  8. Redirect to /consent with       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     state parameter                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────┬──────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Consent     │ User sees scopes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Page        │ clicks &quot;Approve&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────┬──────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │ 9. POST /oauth2/authorize with:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │    - client_id=X</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │    - state=ABC (from hidden field)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │    - consent_action=approve</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │    - scope=...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Spring Authorization Server        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Processes consent POST             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  10. Recognize this as consent      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      approval (has consent_action)  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  11. Look up OAuth2Authorization    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      by state from step 7           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      MATCH FOUND ✓                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  12. Mark consent as approved       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  13. Generate authorization code    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  14. Redirect to client:            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      redirect_uri?code=XYZ&amp;state=ABC│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────┬──────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   Client    │ Receives authorization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Application │ code, exchanges for token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────┘</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="launch-types">Launch Types<a href="#launch-types" class="hash-link" aria-label="Direct link to Launch Types" title="Direct link to Launch Types">​</a></h2>
<ul>
<li>Patient Standalone: App is launched directly by a patient; scope requests are limited to the patient’s data</li>
<li>Provider Standalone: App is launched by a clinician; scope requests may include broader access (e.g., all patients)</li>
<li>EHR Launch (coming soon): App launches within an EHR with additional context (e.g., current patient)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scopes">Scopes<a href="#scopes" class="hash-link" aria-label="Direct link to Scopes" title="Direct link to Scopes">​</a></h2>
<ul>
<li>Required baseline scopes: <code>launch/patient</code>, <code>openid</code>, <code>fhirUser</code>, <code>offline_access</code></li>
<li>Resource-level read scopes: <code>patient/&lt;Resource&gt;.rs</code> (e.g., <code>patient/Observation.rs</code>)</li>
<li>“All Read” convenience: <code>patient/*.rs</code></li>
</ul>
<p>Scopes define what the app can read/write and whether access is constrained to a single patient.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pkce">PKCE<a href="#pkce" class="hash-link" aria-label="Direct link to PKCE" title="Direct link to PKCE">​</a></h2>
<ul>
<li>PKCE (Proof Key for Code Exchange) protects public apps (mobile/web) from authorization code interception</li>
<li>Recommended to keep PKCE enabled with <code>SHA-256</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="clients">Clients<a href="#clients" class="hash-link" aria-label="Direct link to Clients" title="Direct link to Clients">​</a></h2>
<ul>
<li>Public clients: no client secret (browser/mobile)</li>
<li>Confidential clients: client secret required (server-side apps)</li>
</ul>
<p>Client type influences how tokens are issued and where secrets are stored.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works-in-couchbase-fhir-ce">How It Works in Couchbase FHIR CE<a href="#how-it-works-in-couchbase-fhir-ce" class="hash-link" aria-label="Direct link to How It Works in Couchbase FHIR CE" title="Direct link to How It Works in Couchbase FHIR CE">​</a></h2>
<ul>
<li>Built-in Spring Authorization Server provides OAuth/OpenID endpoints</li>
<li>Admin UI includes Client Registration, Patient/Provider Standalone flows, and consent screens</li>
<li>Registered clients request SMART scopes; users grant consent; tokens carry scopes and user context</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-pages">Related Pages<a href="#related-pages" class="hash-link" aria-label="Direct link to Related Pages" title="Direct link to Related Pages">​</a></h2>
<ul>
<li>Client Registration: <a href="/docs/Smart/Client-Registration">docs/Smart/Client-Registration.mdx</a></li>
<li>Inferno SMART Client: <a href="/docs/Smart/Inferno">docs/Smart/Inferno.mdx</a></li>
<li>OAuth Overview: <a href="/docs/API Tokens/OAuth">docs/API Tokens/OAuth.mdx</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/couchbaselabs/couchbase-fhir-ce-docs/tree/master/docs/Smart/Intro.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/API Clients/Vanya"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Vanya Client</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Smart/Client-Registration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Client Registration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-smart" class="table-of-contents__link toc-highlight">Why SMART?</a></li><li><a href="#oauth-2-flow" class="table-of-contents__link toc-highlight">OAuth 2 Flow</a></li><li><a href="#launch-types" class="table-of-contents__link toc-highlight">Launch Types</a></li><li><a href="#scopes" class="table-of-contents__link toc-highlight">Scopes</a></li><li><a href="#pkce" class="table-of-contents__link toc-highlight">PKCE</a></li><li><a href="#clients" class="table-of-contents__link toc-highlight">Clients</a></li><li><a href="#how-it-works-in-couchbase-fhir-ce" class="table-of-contents__link toc-highlight">How It Works in Couchbase FHIR CE</a></li><li><a href="#related-pages" class="table-of-contents__link toc-highlight">Related Pages</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.couchbase.com/forums/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Couchbase Forums<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bit.ly/3JGCeUg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/couchbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/couchbaselabs/couchbase-fhir-ce" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.couchbase.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Couchbase<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Couchbase, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>